 {%extends "base.html"%}
{%block extra_js%}
<script type="text/javascript">
	$(function() {
		$("#id_fecha_inicio").datepicker({ dateFormat: 'yy-mm-dd', dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'], monthNames: ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],changeYear: true});
		$("#id_fecha_final").datepicker({ dateFormat: 'yy-mm-dd', dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'], monthNames: ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'],changeYear: true});
	});
	</script>

<script type="text/javascript">
            function agregar(formulario)
            {
                var tabla = document.getElementById("id_tabla_donante");
                var ultimaFila = tabla.rows.length;
                var iteraccion = ultimaFila+1;
                var fila = tabla.insertRow(ultimaFila);
                fila.id = 'fila-' + (iteraccion - 1);

                //celda izquierda - Nombre de donante
                var celdaIzquierda = fila.insertCell(0);
                var inputDonante = document.createElement('input');
                inputDonante.type = 'text';
                inputDonante.name = 'donante_' + iteraccion;
                inputDonante.id = 'id_donante_' + iteraccion;
                inputDonante.value = 'testDonante';
                inputDonante.readonly = 'readonly';
                celdaIzquierda.appendChild(inputDonante);

                //celda centro - Monto 
                var celdaCentro= fila.insertCell(1);
                var inputMonto= document.createElement('input');
                inputMonto.type = 'text';
                inputMonto.name = 'monto_' + iteraccion;
                inputMonto.id = 'id_monto_' + iteraccion;
                inputMonto.value = 'test';
                inputMonto.readonly = 'readonly';
                celdaCentro.appendChild(inputMonto);

                //celda derecha - Eliminar 
                var celdaDerecha = fila.insertCell(2);
                var linkBorrar = document.createElement('a');
                linkBorrar.href = '#';
                linkBorrar.onclick = function() {eliminarFila(linkBorrar);};
                linkBorrar.appendChild(document.createTextNode('Eliminar')); 
                celdaDerecha.appendChild(linkBorrar);
            }

            function eliminarFila(elem)
            {
              var tabla = document.getElementById('id_tabla_donante');
              var fila = elem.parentNode.parentNode.rowIndex;
              tabla.deleteRow(fila);
            }
            
        </script>
{%endblock%}  
 {%block contenido%}
 <div id="titulo">
                   Formulario de entrada de datos
 </div>
                   <div id="contenido_interno">
							<form action="." method="POST">
								<div class="titulo_form"> Datos Generales</div>
									<div class="campo_ancho">
									   <div class="label izq">Nombre</div><input type="text" name="nombre" id="id_nombre" class="textbox_nombre"/>
									</div>
									<div class="campo_ancho">
										<div class="label izq">Descripción</div><textarea id="id_descripcion" class="textarea"></textarea>
									</div>
									<div class="campo der">
									   <div class="label izq">Avance</div>
									   	<select id="id_donante" name="donante" class="combobox">
											<option value="1">Detenido</option>  
											<option value="2">En proceso</option>  
											<option value="3">Terminado</option>  
										</select>
									</div>
									<div class="campo">
									   <div class="label izq">Tipo</div>
									   	<select id="id_tipo" name="tipo" class="combobox">
											<option value="1">Fortalecimiento Local</option>  
											<option value="2">Infraestructura APS</option>  
											<option value="3">GIRH No-APS</option>  
										</select>
									</div>
									<div class="campo izq">
									   <div class="label izq">Fecha inicio</div><input type="text" name="fecha_inicio" id="id_fecha_final" class="textbox"/>
									</div>
									<div class="campo der">
									   <div class="label izq">Fecha final</div><input type="text" name="fecha_final" id="id_fecha_inicio" class="textbox"/>
									</div>
									<br style="clear:both">
									<br>
								<div class="titulo_form"> Inversión Internacional</div>
									<p><label>Donante:</label>
									<select id="id_donante" name="donante">
										<option value="1">Donante</option>  
										<option value="2">Donante dos</option>  
										<option value="3">Donante tres</option>  
										<option value="4">Donante cuatro</option>  
									</select></p>
									<p><label>Monto: </label><input type="text" name="monto" id="id_monto"/>
									<input type="button" onClick="agregar(this)" value="agregar" /></p>
									<table name="tabla_donante" id="id_tabla_donante" border="1">
										<tr>
											<td>Donante</td>
											<td>Monto</td>
											<td>acción</td>
										</tr>
									</table>
								
							</form>
                   </div>
 {% endblock %}
